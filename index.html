<!DOCTYPE html>
  <head>
    <meta charset="utf-8">
    <title>Typeset.js – a library for improving your website's typography</title>
    <link rel="icon" type="image/png" href="./tests/favicon.png">
    <script src="./tests.js"></script>
    <script src="//use.typekit.net/ryv2pys.js"></script>
    <script>try{Typekit.load();}catch(e){}</script>
    <link rel="stylesheet" href="./tests/style.css">
  </head>
  <body>
  <div class="container">

    <a class="logo" href="/">Blot</a>
    <h1><span class="small-caps"><aria class="hang-T">T</aria>YPE­SET</span><span></span>.js</h1>
    <h2><aria class="hang-A">A</aria>n <span class="small-caps">HTML</span> pre-proces­sor for bet­ter<span class="space-w"></span> <aria class="hang-w">w</aria>eb ty­pog­ra­phy. No<span class="space-c"></span> <aria class="hang-c">c</aria>lient-side JavaScript needed.<span class="space-Y"></span> <aria class="hang-Y">Y</aria>ou get all this:</h2>
    <ul>
        <li>Hang­ing punc­tu­a­tion</li>
        <li>Soft hy­phen in­ser­tion</li>
        <li><aria class="hang-O">O</aria>p­ti­cal mar­gin align­ment</li>
        <li>Small-caps<span class="space-c"></span> <aria class="hang-c">c</aria>on­ver­sion</li>
        <li>Elipses sub­sti­tu­tion</li>
        <li>Quote sub­sti­tu­tion</li>
        <li>Hair spaces be­tween ra­tios</li>
        <li>Range dash sub­sti­tu­tion</li>
        <li>Hy­phen sub­sti­tu­tion</li>
    </ul>

<!--     <p>Accepts an HTML string and returns the same HTML with:</p>
 -->    <!-- <ul>
        <li>Hanging punctuation</li>
        <li>Soft hyphen insertion</li>
        <li>Small-caps conversion</li>
        <li>Elipses substitution</li>
        <li>Quote substitution</li>
        <li>Hair spaces between ratios</li>
        <li>Range dash substitution</li>
        <li>Hyphen substitution</li>
    </ul> -->
    <div class="clear"></div>
   </div>
   <div class="demo">
    <div class="container" style="padding-bottom:0">

        <div class="nav small-caps tabs" data-directive="tabs">
            <a href="#panel-1" data-behaviour="tab"><aria class="hang-A">A</aria>f­ter</a>
            <a href="#panel-2" data-behaviour="tab">Be­fore</a>
        </div>

        <div id="panel-1">
            <p><aria class="hang-Y">Y</aria>jarni Sigurðardót­tir spoke to <span class="small-caps">NATO</span> from Ice­land yes­ter­day:<span class="space-me"></span> <aria class="hang-me">“</aria>Light<span class="space-o"></span> <aria class="hang-o">o</aria>f my life, fire<span class="space-o"></span> <aria class="hang-o">o</aria>f my loins&thinsp;&mdash;&thinsp;my sin, my soul.<span class="space-T"></span> <aria class="hang-T">T</aria>he tip<span class="space-o"></span> <aria class="hang-o">o</aria>f the tongue tak­ing a trip to 118° 19′ 43.5″.”<span class="space-T"></span> <aria class="hang-T">T</aria>he <span class="small-caps">HTML</span> replied:</p>

            <p><aria class="hang-me">“</aria>She’s bet­ter than a 120′4″<span class="space-w"></span> <aria class="hang-w">w</aria>hale.” Piña<span class="space-c"></span> <aria class="hang-c">c</aria>o­ladas<span class="space-w"></span> <aria class="hang-w">w</aria>ere<span class="space-w"></span> <aria class="hang-w">w</aria>idely<span class="space-c"></span> <aria class="hang-c">c</aria>on­sumed<span class="space-o"></span> <aria class="hang-o">o</aria>n Göt­ter­däm­merun straße be­tween 1880–1912.<span class="space-O"></span> <aria class="hang-O">O</aria>pen pages 330–39 from Ex­hi­bits<span class="space-A"></span> <aria class="hang-A">A</aria>–E.
            </p>
        </div>

        <div id="panel-2" class="ts-ignore">
            <p>Yjarni Sigurðardóttir spoke to NATO from Iceland yesterday: "Light of my life, fire of my loins -- my sin, my soul. The tip of the tongue taking a trip to 118° 19' 43.5"." The HTML replied:</p>

            <p>"She's better than a 120'4" whale." Piña co­ladas were widely consumed on Göt­ter­däm­merun straße between 1880–1912. Open pages 330–39 from Ex­hi­bits A–E.
            </p>
        </div>




    <br>
    </div>
</div>
<div class="container">

    <pre>npm install typeset</pre>

    <h3>How it<span class="space-w"></span> <aria class="hang-w">w</aria>orks?</h3>
    <p><aria class="hang-T">T</aria>ype­set is avail­able<span class="space-o"></span> <aria class="hang-o">o</aria>n npm:</p>
    <p><aria class="hang-T">T</aria>o process some <span class="small-caps">HTML</span>:</p>
    <pre>
var typeset = require('typeset');
var html = '&lt;p&gt;&quot;Hello there,&quot; said the fox's wife.&lt;/p&gt;';
var processedHTML = typeset(html);
    </pre>

<pre>

.small-caps {font-family: 'Charter SC', serif}

/* The proportional width of " in your font*/
.hang-me {margin-left:-.38em}
.space-me {margin-right:.38em}
</pre>


    <p><aria class="hang-Y">Y</aria>ou<span class="space-c"></span> <aria class="hang-c">c</aria>an also pass an<span class="space-o"></span> <aria class="hang-o">o</aria>p­tions<span class="space-o"></span> <aria class="hang-o">o</aria>b­ject:</p>
    <pre><code>typeset(html, {disable: ['smallCaps'], language: 'English'});</code></pre>
    <p>Ideas:<span class="space-w"></span> <aria class="hang-w">w</aria>arn­ings for pos­si­ble er­rors (c) in­stead<span class="space-o"></span> <aria class="hang-o">o</aria>f &copy;, brack­ets in­side styled text&hellip; 123 x 345 - 678 = 41757</p>

    </div>
    <script type="text/javascript">
    (function (name, context, definition) {
        if (typeof define === 'function' && define.amd) {
            define(definition);
        }
        else if (typeof module !== 'undefined' && module.exports) {
            module.exports = definition();
        }
        else {
            context[name] = definition();
        }
    })('Tabs', this, function() {

        'use strict';

        /**
         * Tabs
         * @constructor
         * @param {HTMLElement} element
         */
        function Tabs(element) {
            var i, len;

            this.target = element;
            this.tabs = element.querySelectorAll('[data-behaviour=tab]');
            this.panels = [];

            for (i = 0, len = this.tabs.length; i < len; i++) {
                this.panels.push( document.getElementById(this.tabs[i].hash.replace('#', '')) );
            }

            if (this.selectedIndex === undefined) {
                this._init();
            }
        }

        /**
         * Init
         * @private
         */
        Tabs.prototype._init = function() {
            var i;
            var self = this;

            this.target.setAttribute('role', 'tablist');

            for (i = this.tabs.length - 1; i >= 0; i--) {
                var tab = this.tabs[i];
                var panel = this.panels[i];
                var preSelected = tab.className.match(/\bis-selected\b/);
                var selected = i === 0 || preSelected || window.location.hash.replace('#', '') == panel.id;

                tab.setAttribute('role', 'tab');
                tab.setAttribute('aria-selected', selected);
                tab.setAttribute('aria-controls', tab.hash.replace('#', ''));

                panel.setAttribute('role', 'tabpanel');

                if (selected) {
                    this.selectedIndex = i;

                    if (!preSelected) {
                        tab.className+= ' is-selected ';
                    }
                }
                else {
                    panel.style.display = 'none';
                }
            }

            this.clickHandler = function(e) {
                var target = e.srcElement || e.target;

                if (target.getAttribute('role') == 'tab') {

                    if (e.preventDefault) {
                        e.preventDefault();
                    }
                    else {
                        e.returnValue = false;
                    }

                    self.toggle(target);
                }
            };

            this.keyHandler = function(e) {
                switch(e.keyCode) {
                    case 37:
                        if (self.tabs[self.selectedIndex - 1]) {
                            self.toggle(self.tabs[self.selectedIndex - 1]);
                        }
                        break;

                    case 39:
                        if (self.tabs[self.selectedIndex + 1]) {
                            self.toggle(self.tabs[self.selectedIndex + 1]);
                        }
                        break;
                }
            };

            if (this.target.addEventListener) {
                this.target.addEventListener('click', this.clickHandler, false);
                this.target.addEventListener('keyup', this.keyHandler, false);
            }
            else {
                this.target.attachEvent('onclick', this.clickHandler);
                this.target.attachEvent('onclick', this.keyHandler);
            }

        };

        /**
         * Toggle
         * @param {HTMLElement} tab
         */
        Tabs.prototype.toggle = function(tab) {
            var i, len;
            var panel = document.getElementById(tab.hash.replace('#', ''));

            tab.focus();

            this.tabs[this.selectedIndex].className = this.tabs[this.selectedIndex].className.replace('is-selected', '');
            this.tabs[this.selectedIndex].setAttribute('aria-selected', false);

            this.panels[this.selectedIndex].style.display = 'none';

            tab.className+= ' is-selected ';
            tab.setAttribute('aria-selected', true);

            panel.style.display = '';

            // Find tab index
            for (i = 0, len = this.tabs.length; i < len; i++) {
                if (tab == this.tabs[i]) {
                    break;
                }
            }

            this.selectedIndex = i;
        };

        /**
         * Teardown
         */
        Tabs.prototype.teardown = function() {
            var i, len;

            this.target.removeAttribute('role');

            if (this.target.removeEventListener) {
                this.target.removeEventListener('click', this.clickHandler, false);
                this.target.removeEventListener('click', this.keyHandler, false);
            }
            else {
                // Presume legacy IE
                this.target.detachEvent('onclick', this.clickHandler);
                this.target.detachEvent('onclick', this.keyHandler);
            }

            for (i = 0, len = this.tabs.length; i < len; i++) {
                var tab = this.tabs[i];
                var panel = this.panels[i];

                tab.removeAttribute('role');
                tab.removeAttribute('aria-selected');
                tab.removeAttribute('aria-controls');

                panel.style.display = '';
                panel.removeAttribute('role');
            }

            delete this.selectedIndex;
        };

        return Tabs;

    });

    // You were going to wrap the above as an AMD/CommonJS module and load on demand, right?
    var instance = new Tabs( document.querySelector('[data-directive=tabs]') );
    </script>
    </body>

